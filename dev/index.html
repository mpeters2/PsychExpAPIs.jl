<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · PsychoJL.jl</title><meta name="title" content="Home · PsychoJL.jl"/><meta property="og:title" content="Home · PsychoJL.jl"/><meta property="twitter:title" content="Home · PsychoJL.jl"/><meta name="description" content="Documentation for PsychoJL.jl."/><meta property="og:description" content="Documentation for PsychoJL.jl."/><meta property="twitter:description" content="Documentation for PsychoJL.jl."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PsychoJL.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Manual-Outline"><span>Manual Outline</span></a></li><li><a class="tocitem" href="#Overview"><span>Overview</span></a></li><li><a class="tocitem" href="#Differences-between-PsychoPy-and-PsychoJL"><span>Differences between PsychoPy and PsychoJL</span></a></li><li><a class="tocitem" href="#Performance-Tips"><span>Performance Tips</span></a></li><li><a class="tocitem" href="#Usage-Rules"><span>Usage Rules</span></a></li><li><a class="tocitem" href="#Example"><span>Example</span></a></li><li><a class="tocitem" href="#Missing-Functionality"><span>Missing Functionality</span></a></li><li><a class="tocitem" href="#Known-issues"><span>Known issues</span></a></li><li><a class="tocitem" href="#Technology"><span>Technology</span></a></li></ul></li><li><a class="tocitem" href="InitializationAndTiming/">Initialization and Timing</a></li><li><a class="tocitem" href="Windows/">Windows</a></li><li><a class="tocitem" href="Colors/">Colors</a></li><li><a class="tocitem" href="Coordinates/">Coordinates Systems</a></li><li><a class="tocitem" href="GUI/">GUI</a></li><li><a class="tocitem" href="ImageStim/">Images</a></li><li><a class="tocitem" href="InputEvents/">Input Events</a></li><li><a class="tocitem" href="SetterFunctions/">Setter Functions</a></li><li><a class="tocitem" href="Shapes/">Shapes</a></li><li><a class="tocitem" href="SoundStim/">Sound</a></li><li><a class="tocitem" href="TextStim/">Text</a></li><li><a class="tocitem" href="Timings/">Timing</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/mpeters2/PsychoJL.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/mpeters2/PsychoJL.jl/blob/main/docs/src/index.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Introduction-to-PsychoJL"><a class="docs-heading-anchor" href="#Introduction-to-PsychoJL">Introduction to PsychoJL</a><a id="Introduction-to-PsychoJL-1"></a><a class="docs-heading-anchor-permalink" href="#Introduction-to-PsychoJL" title="Permalink"></a></h1><p>PsychoJL is a module for writing psychology and psychophysics experiments.  The general framework  and style is inspired by PsychoPy, but there has been no collaboration with the authors of PsychoPy.</p><p>Matt Peterson, 2023-2024</p><h2 id="Manual-Outline"><a class="docs-heading-anchor" href="#Manual-Outline">Manual Outline</a><a id="Manual-Outline-1"></a><a class="docs-heading-anchor-permalink" href="#Manual-Outline" title="Permalink"></a></h2><ul><li class="no-marker"><ul><li><a href="Coordinates/#Coordinate-systems">Coordinate systems</a></li><li><a href="SetterFunctions/#Setter-functions">Setter functions</a></li></ul></li><li><a href="#Introduction-to-PsychoJL">Introduction to PsychoJL</a></li><li class="no-marker"><ul><li><a href="#Manual-Outline">Manual Outline</a></li><li><a href="#Overview">Overview</a></li><li><a href="#Differences-between-PsychoPy-and-PsychoJL">Differences between PsychoPy and PsychoJL</a></li><li><a href="#Performance-Tips">Performance Tips</a></li><li><a href="#Usage-Rules">Usage Rules</a></li><li><a href="#Example">Example</a></li><li><a href="#Missing-Functionality">Missing Functionality</a></li><li><a href="#Known-issues">Known issues</a></li><li><a href="#Technology">Technology</a></li></ul></li></ul><h2 id="Overview"><a class="docs-heading-anchor" href="#Overview">Overview</a><a id="Overview-1"></a><a class="docs-heading-anchor-permalink" href="#Overview" title="Permalink"></a></h2><p>PsychoJL is a module for writing psychology experiments.  Typically, before a trial begins,  stimuli are drawn offscreen into the video buffer.  When it is time to present the stimuli, the flip() function is called and the offscreen image is displayed.</p><h2 id="Differences-between-PsychoPy-and-PsychoJL"><a class="docs-heading-anchor" href="#Differences-between-PsychoPy-and-PsychoJL">Differences between PsychoPy and PsychoJL</a><a id="Differences-between-PsychoPy-and-PsychoJL-1"></a><a class="docs-heading-anchor-permalink" href="#Differences-between-PsychoPy-and-PsychoJL" title="Permalink"></a></h2><p>The main difference between the two involves how objects are called in Julia.  For example, to  make and draw a TextStim, you would write something like this in PsychoPy:</p><pre><code class="language-python hljs">stim = visual.TextStim(win, 
                    	&#39;Hello World!&#39;,
                    	pos=(0.0, 0.0),		# center of the screen
                    	color=(1, 0, 0), 
                    	colorSpace=&#39;rgb&#39;)
TextStim.draw()</code></pre><p>In Julia, it would look like this:</p><pre><code class="language-julia hljs">stim = TextStim(win, 
                &quot;Hello World!&quot;,
                [300, 100], 		# position
                color=(255, 0, 0))
draw(stim)</code></pre><p>Notice that Julia does not use the Object.method() syntax of Python.  Instead, the stimulus is passed to the draw() function.</p><p>In addition, Julia objects are really structures (data) with a constructor function of the same name.  For example, I can make a new <code>TextStim</code> using the <code>TextStim()</code> constructor function, and latter change one of its properties using dot notation.</p><pre><code class="language-julia hljs">stim = TextStim(win, 
                &quot;Hello World!&quot;,
                [300, 100], 		# position
                color=(255, 0, 0))
stim.textMessage = &quot;Goodbye, world!&quot;</code></pre><h2 id="Performance-Tips"><a class="docs-heading-anchor" href="#Performance-Tips">Performance Tips</a><a id="Performance-Tips-1"></a><a class="docs-heading-anchor-permalink" href="#Performance-Tips" title="Permalink"></a></h2><p>Julia can be many orders of magnitude faster than Python. My biggest performance tip is, despite their similarities, do not write Julia programs like you would write a Python program.</p><h5 id="Global-Variables"><a class="docs-heading-anchor" href="#Global-Variables">Global Variables</a><a id="Global-Variables-1"></a><a class="docs-heading-anchor-permalink" href="#Global-Variables" title="Permalink"></a></h5><p>For example, although Julia can use global variables, the use of global variables (global constants are OK) <a href="https://docs.julialang.org/en/v1/manual/performance-tips/">prevents the optimizing compiler from optimizing</a>. Instead, pass around structs containing what would have been written as global variables in a Python program. The VisualSearchMain.jl example experiment shows this in action. It uses a struct called ExperimentalDesign. Although the struct definition is in the global scope, an instance of this structure is created in the  function <code>makeExperimentalDesign()</code> and passed around from function-to-function.</p><pre><code class="language-julia hljs">mutable struct ExperimentDesign	 	# we&#39;ll pass this around instead of globals
	numTrials::Int64
	trialSS::Vector{Int64}		  	# this holds the combination of SetSize control 
	trialTP::Vector{Int64}		  	# Target Presence
	randomOrder::Vector{Int64}	  	# this will hold the random order in which the trials will be displayed.
end</code></pre><p>PsychoJL also makes use of this through the Window instance you create.  You may have noticed that most PsychoJL functions require a window to be passed as one of their parameters.  For example, <code>startTimer()</code> and <code>stopTimer()</code> require a Window to be  passed as one of their arguments. What in the world does timing have to do with a graphical window?  Nothing. However, PsychoJL uses it as a struct that can hold what would have otherwise been a global variable in another language.  Calling <code>startTimer()</code> causes it to store the  starting time in the Window you passsed to it.  Likewise, <code>stopTimer()</code> uses the information stored in the Window structure to calculate the elapsed time.</p><h5 id="Variable-Typing"><a class="docs-heading-anchor" href="#Variable-Typing">Variable Typing</a><a id="Variable-Typing-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-Typing" title="Permalink"></a></h5><p>Like Python, Julia can infer variables types. However, Julia can be faster when it does not need to infer types.  For example, the parameter for this function is perfectly legal (from a syntactic point of view):</p><pre><code class="language-julia hljs">function fancyMath(myArray)
	answer = doSomeStuff(myArray)
	return answer
end</code></pre><p>But, is even better, because it explicitely states the parameter&#39;s type:</p><pre><code class="language-julia hljs">function fancyMath(myArray::Vector{Float64})
	answer = doSomeStuff(myArray)
	return answer
end</code></pre><p>As you might have noticed by the documentation, PsychoJL is strongly typed.  Future versions, through multiple-dispatch (i.e. overloading) will be less strict with their types. For example, for the <code>startPoint</code> and <code>endPoint</code>, <code>Line()</code> requires a vector of two integers.  In the future, it will allow vectors of floats.</p><p>When dividing variables that should remain integers, Julia&#39;s integer division operand <code>÷</code> (not <code>/</code>!) is  extremely useful. Dividing integers using the standard division operand <code>\</code> can return a float. For example:</p><pre><code class="language-julia hljs">julia&gt; x = 255 ÷ 2
127</code></pre><p>vs</p><pre><code class="language-julia hljs">julia&gt; x = 255 / 2
127.5</code></pre><p>Integer division truncates.  In other situations <code>round(Int64, x)</code> might make more sense.</p><h6 id="Integer-Division"><a class="docs-heading-anchor" href="#Integer-Division">Integer Division</a><a id="Integer-Division-1"></a><a class="docs-heading-anchor-permalink" href="#Integer-Division" title="Permalink"></a></h6><h2 id="Usage-Rules"><a class="docs-heading-anchor" href="#Usage-Rules">Usage Rules</a><a id="Usage-Rules-1"></a><a class="docs-heading-anchor-permalink" href="#Usage-Rules" title="Permalink"></a></h2><ol><li>The function <code>InitPsychoJL()</code> just be called before any PsychoJL functions are called.</li><li>The <code>Window()</code> constructor for the main window should be called before using any PsychoJL functions, other than GUI calls.</li><li>GUI dialog windows should be called before the main <code>Window</code> has been made.</li><li>GUI dialog windows can be callled after the main <code>Window has</code> been closed.</li><li>Do not taunt Happy Fun Ball.</li></ol><h2 id="Example"><a class="docs-heading-anchor" href="#Example">Example</a><a id="Example-1"></a><a class="docs-heading-anchor-permalink" href="#Example" title="Permalink"></a></h2><p>The function </p><pre><code class="language-julia hljs">using PsychoJL

function DemoWindow()
	InitPsychoJL()
	myWin = Window( [1000,1000], false)	# dimensions, fullscreen = false

	newRect = Rect(myWin, 
			100,			# width
			100, 			# height
			[200,200],		# position
			lineColor = [255,0,0], 
			fillColor = [255,128,128] 
			)
	draw(newRect) 		# in PsychoPy this would have been newRect.draw()

	myText = TextStim(myWin,  		# window
			&quot;Using a textStim&quot;, 	# text
			[300, 100], 		# position
			color = [255, 255, 128]
			)
	draw(myText) 		# in PsychoPy this would have been myText.draw()
	flip(myWin)
	wait(2000)		# core.wait in Psychopy.  Default timeScale (see Window) is in milliseconds.
end
#------
DemoWindow()</code></pre><h2 id="Missing-Functionality"><a class="docs-heading-anchor" href="#Missing-Functionality">Missing Functionality</a><a id="Missing-Functionality-1"></a><a class="docs-heading-anchor-permalink" href="#Missing-Functionality" title="Permalink"></a></h2><p>mouse events\n timers (timing can be done by using Julia&#39;s time() function)\n pie-wedges\n</p><h2 id="Known-issues"><a class="docs-heading-anchor" href="#Known-issues">Known issues</a><a id="Known-issues-1"></a><a class="docs-heading-anchor-permalink" href="#Known-issues" title="Permalink"></a></h2><h3 id="Color"><a class="docs-heading-anchor" href="#Color">Color</a><a id="Color-1"></a><a class="docs-heading-anchor-permalink" href="#Color" title="Permalink"></a></h3><p>Currently, color is r,g,b, alpha, with values from 0-255.  Planned color spaces include:</p><p>• 0.0 ... 1.0: (Float64)</p><p>• -1.0 ... +1.0: (Float64) PsychoPy style color</p><p>• Strings: &quot;red&quot;, &quot;brown&quot;, &quot;gray&quot;, etc.</p><h3 id="Coordinate-system"><a class="docs-heading-anchor" href="#Coordinate-system">Coordinate system</a><a id="Coordinate-system-1"></a><a class="docs-heading-anchor-permalink" href="#Coordinate-system" title="Permalink"></a></h3><p>Currently, the origin is in the top-left and measurements are in pixels. Planned coordinate systems include:</p><p>• Percentage of height: origin is in the top left, and x and y coordinates are a percentage of screen height. 	On a 2560 x 1440, the bottom right coordinate would be ( 1.78, 1.0)</p><p>• Psychopy &quot;height&quot;: origin is in the center of the screen.  Negative y-values are below the origin, and positive are above the origin. 	On a 2560 x 1440, the top left coordinate would be (-0.89,+0.50), and the bottom right coordinate would be (+0.89,-0.50)</p><h3 id="Timescales"><a class="docs-heading-anchor" href="#Timescales">Timescales</a><a id="Timescales-1"></a><a class="docs-heading-anchor-permalink" href="#Timescales" title="Permalink"></a></h3><p>The default timescale is <code>milliseconds</code>, but <code>seconds</code> is also an option. The timescale used for your experiment is set by passing <code>milliseconds</code> or <code>seconds</code> as one of the optional  parameters when creating a main window.</p><h3 id="Monitors"><a class="docs-heading-anchor" href="#Monitors">Monitors</a><a id="Monitors-1"></a><a class="docs-heading-anchor-permalink" href="#Monitors" title="Permalink"></a></h3><p>There are some issues that need to be worked out when using high-resolution displays suchs Retina displays.  Currently, fullscreen mode draws correctly, but when fullscreen = false,  the image is smaller than expected.</p><h2 id="Technology"><a class="docs-heading-anchor" href="#Technology">Technology</a><a id="Technology-1"></a><a class="docs-heading-anchor-permalink" href="#Technology" title="Permalink"></a></h2><p>All graphics and input are handled by SDL.jl.  I translated parts of SDL2_gfxPrimitives from C to Julia, with some code replaced with more efficient algorithms.</p></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="InitializationAndTiming/">Initialization and Timing »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.2.1 on <span class="colophon-date" title="Monday 12 February 2024 03:43">Monday 12 February 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
